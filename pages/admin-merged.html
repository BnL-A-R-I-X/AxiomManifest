<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="USS Axiom Administrative Control Panel">
    <title>USS Axiom // Administrative Control</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/commission-admin-v2.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto&display=swap" rel="stylesheet">
</head>
<body>

<!-- Security Access Screen -->
<div id="security-screen" class="security-overlay">
  <div class="security-panel">
    <div class="security-header">
      <img src="../assets/logos/axiom.png" alt="BNL Logo" class="security-logo">
      <h1>üîí BNL SECURITY CHECKPOINT</h1>
      <p class="security-warning">ADMINISTRATIVE TERMINAL ACCESS</p>
      <p class="security-subtitle">Level 7 Clearance Required</p>
    </div>
    
    <div class="access-form">
      <label for="pincode" class="pin-label">Enter Security Code:</label>
      <input type="password" id="pincode" class="pin-input" maxlength="4" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      <button id="access-btn" class="access-button">GRANT ACCESS</button>
      <button id="cancel-btn" class="cancel-button">CANCEL</button>
    </div>
    
    <div class="security-notice">
      <p>‚ö†Ô∏è UNAUTHORIZED ACCESS ATTEMPT WILL BE LOGGED</p>
      <p>BNL Security Protocol 3272-X Active</p>
    </div>
  </div>
</div>

<!-- Main Content (Hidden by default) -->
<div id="main-content" class="hidden">

<header class="site-header">
    <div class="header-inner">
        <img src="../assets/logos/axiom.png" alt="BNL Axiom Logo" class="bnl-logo small-centered" title="Buy n Large Corporation ‚Äî Property of USS Axiom">
        <div>
            <h1>üîí USS AXIOM // ADMINISTRATIVE CONTROL</h1>
            <p class="subtext">Unified System & Commission Management</p>
            <p class="status">STATUS: SECURED ‚Äî CLEARANCE: <strong>LEVEL 7 (ADMIN)</strong> ‚Äî USER: <strong>A.R.I.E.L.L.A</strong></p>
            <div class="status-widgets">
                SHIP TIME: <strong id="shipTime"></strong> |
                SECTOR: <strong>BNL-7 / ALPHA</strong> |
                UPLINK: <strong>ENCRYPTED</strong>
            </div>
        </div>
    </div>
</header>

<nav class="nav-bar nav-right">
    <a href="../index.html" class="nav-btn">HOME</a>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle">ARCHIVES</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">BNL Archives</div>
            <a href="ocs.html" class="nav-dropdown-item">OC Database</a>
            <a href="#" class="nav-dropdown-item disabled coming-soon">Character Rankings [MAINTENANCE]</a>
            <a href="upcoming-commissions-v2.html" class="nav-dropdown-item">Commission Queue</a>
        </div>
    </div>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle">PROFILE</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">üë§ User Profile</div>
            <a href="bio.html" class="nav-dropdown-item">Biography</a>
            <a href="socials.html" class="nav-dropdown-item">Social Links</a>
        </div>
    </div>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle">COMMUNITY</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">Community Hub</div>
            <a href="#" class="nav-dropdown-item disabled coming-soon">Art Gallery</a>
            <a href="#" class="nav-dropdown-item disabled coming-soon">User Submissions</a>
            <a href="#" class="nav-dropdown-item disabled coming-soon">Featured Works</a>
        </div>
    </div>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle secret-btn current">ADMIN</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">üîß Admin Panel</div>
            <a href="admin-v2.html" class="nav-dropdown-item active">Administrative Control</a>
        </div>
    </div>
</nav>

<section class="terminal-intro">
    <p>
        <strong>ADMINISTRATIVE CONTROL:</strong> Unified management interface for commission systems, data operations, and ship maintenance. 
        All actions are logged and monitored per BNL Security Protocol 3272-X.
        <em>Unauthorized access attempts will result in immediate lockdown and security team notification.</em>
    </p>
</section>

<main class="admin-container">
    
    <!-- Commission Statistics Dashboard -->
    <section class="stats-section">
        <h2>üìä Commission Statistics</h2>
        <div id="commission-stats" class="stats-grid">
            <!-- Stats will be populated by JavaScript -->
        </div>
    </section>

    <!-- Commission Management Section -->
    <section class="commission-section">
        <h2>üé® Commission Management</h2>
        
        <!-- Add New Commission Form -->
        <div class="commission-form-container">
            <h3>Add New Commission</h3>
            <form id="commission-form" class="commission-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="client-name">Client Name:</label>
                        <input type="text" id="client-name" name="clientName" required>
                    </div>
                    <div class="form-group">
                        <label for="commission-type">Type:</label>
                        <select id="commission-type" name="type" required>
                            <option value="">Select Type</option>
                            <option value="Character Design">Character Design</option>
                            <option value="Portrait">Portrait</option>
                            <option value="Full Body">Full Body</option>
                            <option value="Scene">Scene</option>
                            <option value="Reference Sheet">Reference Sheet</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="priority">Priority:</label>
                        <select id="priority" name="priority" required>
                            <option value="Normal">Normal</option>
                            <option value="High">High</option>
                            <option value="Urgent">Urgent</option>
                            <option value="Low">Low</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="status">Status:</label>
                        <select id="status" name="status" required>
                            <option value="Planning">Planning</option>
                            <option value="In Progress">In Progress</option>
                            <option value="Review">Review</option>
                            <option value="Completed">Completed</option>
                            <option value="On Hold">On Hold</option>
                        </select>
                    </div>
                </div>

                <div class="form-group full-width">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" rows="4" placeholder="Detailed description of the commission..."></textarea>
                </div>

                <div class="form-group full-width">
                    <label for="image-upload">Reference Image (Optional):</label>
                    <input type="file" id="image-upload" name="image" accept="image/*">
                    <small>Max file size: 5MB. Supported formats: JPG, PNG, GIF, WebP</small>
                    <div id="image-preview" class="image-preview-container" style="display: none;">
                        <img id="preview-img" src="" alt="Preview">
                        <button type="button" id="remove-image" class="remove-image-btn">Remove Image</button>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="submit-btn">Add Commission</button>
                    <button type="button" id="clear-form" class="clear-btn">Clear Form</button>
                </div>
            </form>
        </div>
    </section>

    <!-- Data Management Section -->
    <section class="admin-section">
        <h2>üìä Data Management</h2>
        <div class="admin-tools">
            <div class="tool-group">
                <h3>Character Rankings System</h3>
                <button id="export-rankings" class="admin-btn">
                    üìä Download Rankings Data
                </button>
                <button id="clear-rankings" class="admin-btn danger">
                    üóëÔ∏è Clear All Rankings
                </button>
                <div class="tool-info">
                    <p><strong>Storage:</strong> Local browser data management</p>
                    <p><strong>Format:</strong> JSON export with timestamp</p>
                </div>
            </div>
            
            <div class="tool-group">
                <h3>Commission Data</h3>
                <button id="export-commissions" class="admin-btn">
                    üé® Export Commission Data
                </button>
                <button id="import-commissions" class="admin-btn">
                    üì• Import Commission Data
                </button>
                <input type="file" id="import-file" accept=".json" style="display: none;">
            </div>
            
            <div class="tool-group">
                <h3>System Logs</h3>
                <button class="admin-btn" onclick="window.customDialog.showAlert('Feature coming soon! System log export will be available in future updates.')">
                    üìã Export System Logs
                </button>
                <button class="admin-btn" onclick="window.customDialog.showAlert('Feature coming soon! Terminal history export will be available in future updates.')">
                    üíª Export Terminal History
                </button>
            </div>
        </div>
    </section>

    <!-- System Operations Section -->
    <section class="admin-section">
        <h2>‚öôÔ∏è System Operations</h2>
        <div class="admin-tools">
            <div class="tool-group">
                <h3>Terminal Access</h3>
                <a href="information.html" class="admin-btn">
                    üíª Open Information Terminal
                </a>
                <button class="admin-btn" onclick="window.customDialog.showAlert('All terminal systems operational. Last diagnostic: ' + new Date().toLocaleString())">
                    üîß Run System Diagnostics
                </button>
            </div>
            
            <div class="tool-group">
                <h3>Security Monitoring</h3>
                <button class="admin-btn" onclick="window.customDialog.showAlert('Current security status: GREEN\\nActive sessions: 1\\nLast threat scan: ' + new Date().toLocaleString())">
                    üõ°Ô∏è Security Status
                </button>
                <button class="admin-btn" onclick="window.customDialog.showAlert('Feature coming soon! Advanced security monitoring will be available in future updates.')">
                    üìä Access Logs
                </button>
            </div>
        </div>
    </section>

    <!-- Password & PIN Reference -->
    <section class="password-section">
        <h2>üîê System Passwords & PINs</h2>
        <div class="password-grid">
            <div class="password-card">
                <h3>Commission Ideas Access</h3>
                <div class="password-display">
                    <span class="password-label">Password:</span>
                    <span class="password-value">UNLOCKED</span>
                </div>
                <p class="password-description">Commission Ideas section is now permanently unlocked and accessible to all users.</p>
            </div>
            
            <div class="password-card">
                <h3>Admin Access</h3>
                <div class="password-display">
                    <span class="password-label">Administrative Control:</span>
                    <span class="password-value">3272</span>
                </div>
                <p class="password-description">Main administrative interface for managing commissions and system data.</p>
            </div>
        </div>
    </section>

    <!-- Easter Egg Testing Section -->
    <section class="admin-section">
        <h2>ü•ö System Testing</h2>
        <div class="admin-tools">
            <div class="tool-group">
                <h3>Easter Egg Validation</h3>
                <button class="admin-btn" onclick="testEasterEgg('wall-e')">
                    ü§ñ Test WALL-E Command
                </button>
                <button class="admin-btn" onclick="testEasterEgg('artcode')">
                    üé® Test Art Collaboration
                </button>
                <button class="admin-btn" onclick="testEasterEgg('eve')">
                    üì° Test EVE Protocol
                </button>
                <div class="tool-info">
                    <p><strong>Purpose:</strong> Validate hidden terminal commands</p>
                    <p><strong>Status:</strong> All easter eggs operational</p>
                </div>
            </div>
            
            <div class="tool-group">
                <h3>Special Events Testing</h3>
                <button id="earth-day-toggle" class="admin-btn" onclick="toggleEarthDay()">
                    üåç Toggle Earth Day Mode
                </button>
                <button id="pride-month-toggle" class="admin-btn" onclick="togglePrideMonth()">
                    üè≥Ô∏è‚Äçüåà Toggle Pride Month Mode
                </button>
                <button id="trans-awareness-toggle" class="admin-btn" onclick="toggleTransAwareness()">
                    üè≥Ô∏è‚Äç‚ößÔ∏è Toggle Trans Awareness Mode
                </button>
                <button id="holiday-season-toggle" class="admin-btn" onclick="toggleHolidaySeason()">
                    üéÑ Toggle Holiday Season Mode
                </button>
                <div class="tool-info">
                    <p><strong>Purpose:</strong> Test seasonal and special event themes</p>
                    <p><strong>Note:</strong> Changes are temporary and reset on page reload</p>
                </div>
            </div>
        </div>
    </section>

</main>

<section class="system-footer">
    <p>¬© 2025 Ariella Fawnbrook // USS Axiom Administrative Control</p>
    <p>BNL / AXIOM ADMIN INTERFACE ‚Äî VERSION 4.0</p>
</section>

<div class="status-ticker">
    <marquee behavior="scroll" direction="left">
        ADMIN ACCESS: Administrative control active. ‚Äî SECURITY LEVEL: MAXIMUM ‚Äî All actions are monitored and logged ‚Äî COMMISSION SYSTEM: OPERATIONAL ‚Äî DATA MANAGEMENT: ACTIVE
    </marquee>
</div>

</div>

<script>
// Security PIN system
document.addEventListener('DOMContentLoaded', function() {
    const pinInput = document.getElementById('pincode');
    const accessBtn = document.getElementById('access-btn');
    const cancelBtn = document.getElementById('cancel-btn');
    const securityScreen = document.getElementById('security-screen');
    const mainContent = document.getElementById('main-content');
    
    const correctPin = '3272'; // BNL Security Protocol 3272-X
    
    function checkAccess() {
        const enteredPin = pinInput.value;
        if (enteredPin === correctPin) {
            securityScreen.classList.add('hidden');
            mainContent.classList.remove('hidden');
            
            // Initialize ship time
            if (typeof initializeShipTime === 'function') {
                initializeShipTime();
            }
        } else {
            pinInput.style.borderColor = '#f44336';
            pinInput.style.animation = 'shake 0.5s';
            setTimeout(() => {
                pinInput.style.borderColor = '';
                pinInput.style.animation = '';
                pinInput.value = '';
            }, 500);
        }
    }
    
    function cancelAccess() {
        window.location.href = '../index.html';
    }
    
    accessBtn.addEventListener('click', checkAccess);
    cancelBtn.addEventListener('click', cancelAccess);
    
    pinInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            checkAccess();
        }
    });
    
    // Auto-focus pin input
    pinInput.focus();
});

// Data Management Functions
function exportRankings() {
    const rankings = localStorage.getItem('characterRankings');
    if (rankings) {
        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(rankings);
        const downloadAnchorNode = document.createElement('a');
        downloadAnchorNode.setAttribute("href", dataStr);
        downloadAnchorNode.setAttribute("download", "axiom_rankings_" + new Date().toISOString().split('T')[0] + ".json");
        document.body.appendChild(downloadAnchorNode);
        downloadAnchorNode.click();
        downloadAnchorNode.remove();
        
        window.customDialog.showAlert('Rankings data exported successfully!');
    } else {
        window.customDialog.showAlert('No rankings data found to export.');
    }
}

function clearRankings() {
    window.customDialog.showConfirm(
        'Are you sure you want to clear all character rankings data? This action cannot be undone.',
        function() {
            localStorage.removeItem('characterRankings');
            window.customDialog.showAlert('All rankings data has been cleared.');
        }
    );
}

// Easter Egg Testing Functions
function testEasterEgg(command) {
    window.customDialog.showAlert(`Testing easter egg command: "${command}"\n\nResult: Command recognized and functional!\nRedirect behavior: ${command === 'wall-e' ? 'Character page' : command === 'artcode' ? 'Collaboration info' : 'Terminal response'}`);
}

// Special Event Toggle Functions
function toggleEarthDay() {
    if (typeof EarthDaySpecial !== 'undefined') {
        EarthDaySpecial.toggleTestMode();
        updateEarthDayButton();
    }
}

function togglePrideMonth() {
    if (typeof PrideMonthSpecial !== 'undefined') {
        PrideMonthSpecial.toggleTestMode();
        updatePrideMonthButton();
    }
}

function toggleTransAwareness() {
    if (typeof TransAwarenessSpecial !== 'undefined') {
        TransAwarenessSpecial.toggleTestMode();
        updateTransAwarenessButton();
    }
}

function toggleHolidaySeason() {
    if (typeof HolidaySeasonSpecial !== 'undefined') {
        HolidaySeasonSpecial.toggleTestMode();
        updateHolidaySeasonButton();
    }
}

// Update button states for special events
function updateEarthDayButton() {
    const earthToggle = document.getElementById('earth-day-toggle');
    if (earthToggle && typeof EarthDaySpecial !== 'undefined') {
        if (EarthDaySpecial.isTestModeActive()) {
            earthToggle.innerHTML = 'üåç Disable Earth Day Mode';
            earthToggle.style.background = 'linear-gradient(45deg, #4caf50, #2196f3)';
        } else {
            earthToggle.innerHTML = 'üåç Toggle Earth Day Mode';
            earthToggle.style.background = '';
        }
    }
}

function updatePrideMonthButton() {
    const prideToggle = document.getElementById('pride-month-toggle');
    if (prideToggle && typeof PrideMonthSpecial !== 'undefined') {
        if (PrideMonthSpecial.isTestModeActive()) {
            prideToggle.innerHTML = 'üè≥Ô∏è‚Äçüåà Disable Pride Month Mode';
            prideToggle.style.background = 'linear-gradient(45deg, #e40303, #ff8c00, #ffed00, #008018, #004cff, #732982)';
        } else {
            prideToggle.innerHTML = 'üè≥Ô∏è‚Äçüåà Toggle Pride Month Mode';
            prideToggle.style.background = '';
        }
    }
}

function updateTransAwarenessButton() {
    const transToggle = document.getElementById('trans-awareness-toggle');
    if (transToggle && typeof TransAwarenessSpecial !== 'undefined') {
        if (TransAwarenessSpecial.isTestModeActive()) {
            transToggle.innerHTML = 'üè≥Ô∏è‚Äç‚ößÔ∏è Disable Trans Awareness Mode';
            transToggle.style.background = 'linear-gradient(45deg, #5bcefa, #f5a9b8, #ffffff)';
        } else {
            transToggle.innerHTML = 'üè≥Ô∏è‚Äç‚ößÔ∏è Toggle Trans Awareness Mode';
            transToggle.style.background = '';
        }
    }
}

function updateHolidaySeasonButton() {
    const holidayToggle = document.getElementById('holiday-season-toggle');
    if (holidayToggle && typeof HolidaySeasonSpecial !== 'undefined') {
        if (HolidaySeasonSpecial.isTestModeActive()) {
            holidayToggle.innerHTML = 'üéÑ Disable Holiday Season Mode';
            holidayToggle.style.background = 'linear-gradient(45deg, #c41e3a, #228b22)';
        } else {
            holidayToggle.innerHTML = 'üéÑ Toggle Holiday Season Mode';
            holidayToggle.style.background = '';
        }
    }
}

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
    const exportBtn = document.getElementById('export-rankings');
    const clearBtn = document.getElementById('clear-rankings');
    
    if (exportBtn) exportBtn.addEventListener('click', exportRankings);
    if (clearBtn) clearBtn.addEventListener('click', clearRankings);
    
    // Update special event button states
    setTimeout(() => {
        updateEarthDayButton();
        updatePrideMonthButton();
        updateTransAwarenessButton();
        updateHolidaySeasonButton();
    }, 100);
});
</script>

<script src="../js/commission-system-v2.js"></script>
<script src="../js/commission-admin-v2.js"></script>
<script src="../js/custom-dialogs.js"></script>
<script src="../js/nav-dropdowns.js"></script>
<script src="../js/shiptime.js"></script>
<script src="../js/earth-day-special.js"></script>
<script src="../js/pride-month-special.js"></script>
<script src="../js/trans-awareness-special.js"></script>
<script src="../js/holiday-season-special.js"></script>

</body>
</html>
